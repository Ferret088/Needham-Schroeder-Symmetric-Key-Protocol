<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Yubin Lai&#39;s CSE535 Project: Needham Schroeder Symmetric Key Protocol</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Yubin Lai&#39;s CSE535 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Needham Schroeder Symmetric Key Protocol </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Introduction"></a>
Introduction</h1>
<p>This is a C implementation of the Needham Schroeder Symmetric Key Protocol, based on the previous work <a href="https://github.com/abender/needham-schroeder">seNS</a> done by Andreas Bender. This implementation includes timpstamp to defeat the <a href="http://en.wikipedia.org/wiki/Needham-Schroeder_protocol">replay attack</a> . The project is going to extend seNS in the following ways:</p>
<ul>
<li>Implement tests</li>
<li>Implement additional encryption methods</li>
<li>Transmission error detection</li>
<li>Check cleanups</li>
<li>Implement easy-to-use APIs</li>
<li>Fix bugs</li>
</ul>
<h1><a class="anchor" id="Design"></a>
Design</h1>
<p>The design includes APIs and a simple driver program. To understand the design, it's necessary to understand how the protocol works. Below is the message flow:<br/>
</p>
<ul>
<li>A-&gt;S: A,B,Na<br/>
</li>
<li>S-&gt;A: {Na, Kab, B, {Kab, A, T}Kbs}Kas<br/>
</li>
<li>A-&gt;B: {Kab, A, T}Kbs<br/>
</li>
<li>B-&gt;A: {Nb}Kab<br/>
</li>
<li>A-&gt;B: {Nb-1}Kab</li>
</ul>
<p>There are 3 roles here, A, B and S. We call A as client, B as daemon and S as server. There are APIs for each role, take setup for example, there are ns_setup_client, ns_setup_daemon, ns_setup_server for each role. In the setup, data structures for storing keys are created and network related operations, such as Bind,Listen are performed. Each role can pass port number and encryption method to setup, otherwise, the default is used.<br/>
 After setup, daemon and server can simply call ns_daemon_loop_simple and ns_server_loop respectively to enter default message handling loop. If daemon needs to do additional message handling, a callback can be passed to ns_daemon_loop. The client needs to call ns_client_negotiate_keys to initiate the key negotiation. After that, the client can call ns_client_send_msg to send encrypted messages to daemon, using the negotiated share key.<br/>
 The driver program serves as a simple example of using the API and also a simple test case. It creates 3 processes, one for the server, one for the daemon and one for the client. APIs are called by the driver program to perform key negotiation. After that, A simple hello message is sent from the client to the daemon. Additional test/driver will be implemented later. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 8 2013 17:22:00 for Yubin Lai&#39;s CSE535 Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
